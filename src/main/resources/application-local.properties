# application-local.properties
# 공통 및 local 환경 설정

# Tomcat AJP 및 멀티포트 설정 (local 환경용)
tomcat.ajp.protocol=AJP/1.3
tomcat.ajp.port=8109
tomcat.ajp.enable=true
tomcat.ajp.schema=http
tomcat.ajp.secure=false
tomcat.ajp.allowtrace=false
tomcat.ajp.secretrequired=false
server.port.http=9090

# 공통 설정
spring.session.jdbc.initialize-schema=always
spring.session.jdbc.table-name=SPRING_SESSION
spring.session.jdbc.schema=classpath:org/springframework/session/jdbc/schema-oracle.sql

# 천문과학원/공공데이터포털 API
# (필요시 아래 주석 해제)
data.go.kr.api.domain=http://apis.data.go.kr
data.go.kr.api.serviceKey=6W%2Bvw4jgc6ITVy4FPwAV%2FIzu45%2FciBi%2Bf4ZQBy1CF7DWc0tDNX9NpCuoGLhUr%2FNQVeV9xzu0K%2FDcznvJ4Ooxcw%3D%3D
data.go.kr.api.holidayservice=/B090041/openapi/service/SpcdeInfoService/getRestDeInfo
data.go.kr.api.lunarservice=/B090041/openapi/service/LrsrCldInfoService/getLunCalInfo

# local 환경 DB
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.url=jdbc:h2:file:./database/h2db;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.pool-initial-size=5
spring.datasource.pool-max-size=10
spring.datasource.connection-idle-limit-in-seconds=300
spring.datasource.validate-timeout-in-seconds=5
spring.datasource.test-connection-query=SELECT 1
spring.datasource.log-query-execution-longer-than-ms=1000
spring.datasource.log-stack-trace-for-long-query-execution=false
spring.datasource.statement-cache-max-size=200
spring.datasource.use-fast-failure=true

# local 로깅
logging.level.org.apache.catalina=DEBUG
logging.level.org.apache.tomcat=DEBUG
logging.level.com.devkbil.mtssbj.schedule=DEBUG
logging.file.name=work/log/catalina.out
logging.file.path=work/log/

server.port=9090
server.tomcat.basedir=./
server.tomcat.accesslog.enabled=true
server.tomcat.accesslog.directory=work/log/access
server.servlet.jsp.init-parameters.mappedfile=false
server.servlet.jsp.init-parameters.trimWhitespace=true

# 기타 공통 설정은 기존 application.properties에서 복사
# (필요시 추가)
mybatis.mapper-locations=classpath:mapper/h2/*.xml
app.cors.allowed-origins=http://localhost:3000,http://localhost:8080 